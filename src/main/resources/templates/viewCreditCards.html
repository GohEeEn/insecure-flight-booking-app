<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Stored Credit Cards</title>

    <div th:replace="fragments/header :: header-data"></div>
</head>

<body>

<nav th:replace="fragments/header :: navigation-bar"></nav>

<div class="container">
    <div class="row">
        <div class="col-lg-12 align-self-center">
            <table class="table table-hover table-fixed">
                <thead>
                <tr>
                    <th>Cardholder Name</th>
                    <th>Card Number</th>
                    <th>Card Type</th>
                    <th>Delete</th>
                </tr>
                </thead>
                <tbody>
                    <tr th:each="card: ${cards}">
                        <td th:text="${card.cardholder_name}"></td>
                        <td th:text="${card.maskedCardNumber()}"></td>
                        <td th:text="${card.type}"></td>
                        <td><a th:href="@{/deleteCard/{username}/{id}(username = ${user.username}, id=${card.id})}" class="btn btn-danger">Delete</a></td>
                    </tr>
                </tbody>

                <caption th:if="${user != null && cards.size() == 0}">
                    <h3 class="text-center">No Credit Card found</h3>
                </caption>
            </table>

            <a th:href="@{/registerCard/{username}(username = ${user.username})}" class="btn btn-primary">Add New Card</a>
            <a href="javascript:history.back()" class="btn btn-link">Back</a>
        </div>
    </div>
</div>

</body>
</html>